---
import Topic from "./Topic.astro";

const { topic, heading, topic_hide, topicColor, theme } = Astro.props;
---

<article data-theme={theme} >
  <Topic color={topicColor} hide={topic_hide}>{topic}</Topic>
  <h2>{heading}</h2>

  <p><slot /></p>
</article>

<style>
  @layer components {
    [data-theme="dark"] {
      --text-color: var(--color-heading-secondary);
    }

    p,
    h2 {
      color: var(--text-color, var(--color-heading-primary));
    }
    h2 {
      margin-top: var(--space-m);
    }

    .hide > :first-child {
      display: none;
    }
  }
</style>
