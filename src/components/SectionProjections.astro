---
import ScrollingContainer from "./ScrollingContainer.astro";
import Text from "./Text.astro";
import Controls from "./Controls.astro";

const projectionsData = await fetch("https://raw.githubusercontent.com/siha0004/frontend-design/main/resources/json/projections.json").then((res) => res.json());

---

<section >
  <div class="info">
    <Text topic_hide="true" heading="Financial Projections"> Lorem ipsum dolor sit amet consectetur adipisicing elit. Corrupti ex alias ut eius amet eaque vero sed, hic illo soluta tenetur facilis magnam doloribus sunt est sapiente necessitatibus natus pariatur. </Text>
    <Controls />
  </div>
  <ScrollingContainer data={projectionsData}/>
</section>

<style>
  @layer {
    section {
      background: var(--color-bg-secondary);
      grid-column: full;
      display: grid;
      grid-template-columns: inherit;
      row-gap: var(--space-m);

      > * {
        grid-column: content;
      }
      > ul {
        grid-column: full;
        padding-inline: max(1rem, 50% - var(--content-width) / 2);
        scroll-snap-type: x mandatory;

        li {
          /* For den til at snappe til centeret af cardet, n√•r man scroller (tydeligst i mobil) */
          scroll-snap-align: center;
        }
      }

      .info {
        display: flex;
        justify-content: space-between;
        align-items: end;
      }
    }
  }
</style>
